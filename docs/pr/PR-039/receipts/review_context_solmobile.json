{
  "generated_at": "2026-02-23T07:22:24.599773+00:00",
  "epic": "SOLM-EPIC-044",
  "repo": "solmobile",
  "repo_root": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile",
  "repo_slug": "SolLabsHQ/solmobile",
  "manifest_path": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/infra-docs/codex/epics/SOLM-EPIC-044/manifest.json",
  "packet_dir": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/docs/pr/PR-039",
  "packet_expected_pr_num": 39,
  "packet_fallback_used": false,
  "packet_files": {
    "AGENTPACK.md": {
      "path": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/docs/pr/PR-039/AGENTPACK.md",
      "exists": true
    },
    "INPUT.md": {
      "path": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/docs/pr/PR-039/INPUT.md",
      "exists": true
    },
    "CHECKLIST.md": {
      "path": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/docs/pr/PR-039/CHECKLIST.md",
      "exists": true
    },
    "FIXLOG.md": {
      "path": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/docs/pr/PR-039/FIXLOG.md",
      "exists": true
    },
    "spec.lock.json": {
      "path": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/docs/pr/PR-039/spec.lock.json",
      "exists": true
    }
  },
  "canonical": {
    "agentpack_anchor": true,
    "input_anchor": true,
    "packet_infra_sha": "5e79a954b240c2a27b03710119d7bf96e1842cf2",
    "manifest_infra_sha": "5e79a954b240c2a27b03710119d7bf96e1842cf2",
    "infra_sha_match": true,
    "canonical_urls": [
      "https://github.com/SolLabsHQ/infra-docs/blob/5e79a954b240c2a27b03710119d7bf96e1842cf2/decisions/ADR-031-threadmemento-v0.2-breakpointengine-context-thread-memento-peak-guardrail.md",
      "https://github.com/SolLabsHQ/infra-docs/blob/99fd8ada2542b57e2f02731492b8b16961a45148/codex/epics/SOLM-EPIC-044/AGENTPACK-SOLM-EPIC-044.md",
      "https://github.com/SolLabsHQ/infra-docs/blob/99fd8ada2542b57e2f02731492b8b16961a45148/codex/epics/SOLM-EPIC-044/INPUT-SOLM-EPIC-044.md",
      "https://github.com/SolLabsHQ/infra-docs/blob/99fd8ada2542b57e2f02731492b8b16961a45148/decisions/ADR-031-threadmemento-v0.2-breakpointengine-context-thread-memento-peak-guardrail.md",
      "https://github.com/SolLabsHQ/solserver/blob/main/docs/notes/FP-013-implementation-status.md",
      "https://github.com/SolLabsHQ/solos-internal/blob/main/thoughts/FP-013-threadmemento-breakpoints-v2.md",
      "https://github.com/SolLabsHQ/solos-internal/blob/main/thoughts/pr%2042/FP-013-threadmemento-signals-breakpoints.md"
    ]
  },
  "acceptance": {
    "epic_input_path": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/infra-docs/codex/epics/SOLM-EPIC-044/INPUT-SOLM-EPIC-044.md",
    "epic_acceptance_criteria": [
      "solserver: `/v1/chat` accepts `context.thread_memento_ref` and resolves carry via deterministic precedence.",
      "solserver: `/v1/memento` latest and `/v1/chat` carry semantics are aligned on authoritative latest source.",
      "solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available.",
      "continuity: sequential planning turns retain prior decision context in normal flow.",
      "infra-docs: EPIC-044 AGENTPACK/INPUT explicitly specify `context.thread_memento_ref` contract, precedence, and latest-source alignment.",
      "infra-docs: ADR-031 contains Addendum A2 defining the reference-first carry contract and alignment constraints."
    ],
    "packet_input_acceptance_criteria": [
      "solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available.",
      "continuity: sequential planning turns retain prior decision context in normal flow."
    ],
    "checklist_auto_required": [
      {
        "checked": true,
        "label": "solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available.",
        "evidence": "`ChatRequestContextEncodingTests.test_requestEncodesContextThreadMementoRef_whenProvided` (see `docs/pr/PR-039/receipts/verify_integration.log`)",
        "raw": "- [x] solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available. (AUTO REQUIRED) \u2014 Evidence: `ChatRequestContextEncodingTests.test_requestEncodesContextThreadMementoRef_whenProvided` (see `docs/pr/PR-039/receipts/verify_integration.log`)"
      },
      {
        "checked": true,
        "label": "continuity: sequential planning turns retain prior decision context in normal flow.",
        "evidence": "`TransmissionActionsTests.test_sendOnce_prefersStructuredThreadMemento_overSummaryFallback` and `TransmissionActionsTests.test_sendOnce_usesOlderValidMemento_whenLatestCandidateIsMalformed` (see `docs/pr/PR-039/receipts/verify_integration.log`)",
        "raw": "- [x] continuity: sequential planning turns retain prior decision context in normal flow. (AUTO REQUIRED) \u2014 Evidence: `TransmissionActionsTests.test_sendOnce_prefersStructuredThreadMemento_overSummaryFallback` and `TransmissionActionsTests.test_sendOnce_usesOlderValidMemento_whenLatestCandidateIsMalformed` (see `docs/pr/PR-039/receipts/verify_integration.log`)"
      }
    ],
    "epic_to_packet_trace": [
      {
        "source": "solserver: `/v1/chat` accepts `context.thread_memento_ref` and resolves carry via deterministic precedence.",
        "matched": false,
        "match_score": 0.07,
        "target": null
      },
      {
        "source": "solserver: `/v1/memento` latest and `/v1/chat` carry semantics are aligned on authoritative latest source.",
        "matched": false,
        "match_score": 0.06,
        "target": null
      },
      {
        "source": "solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available.",
        "matched": true,
        "match_score": 1.0,
        "target": "solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available."
      },
      {
        "source": "continuity: sequential planning turns retain prior decision context in normal flow.",
        "matched": true,
        "match_score": 1.0,
        "target": "continuity: sequential planning turns retain prior decision context in normal flow."
      },
      {
        "source": "infra-docs: EPIC-044 AGENTPACK/INPUT explicitly specify `context.thread_memento_ref` contract, precedence, and latest-source alignment.",
        "matched": false,
        "match_score": 0.06,
        "target": null
      },
      {
        "source": "infra-docs: ADR-031 contains Addendum A2 defining the reference-first carry contract and alignment constraints.",
        "matched": false,
        "match_score": 0.12,
        "target": null
      }
    ],
    "epic_to_checklist_trace": [
      {
        "criterion": "solserver: `/v1/chat` accepts `context.thread_memento_ref` and resolves carry via deterministic precedence.",
        "mapped_to_checklist": false,
        "match_score": 0.07,
        "checklist_label": null,
        "checklist_checked": null,
        "checklist_evidence": null
      },
      {
        "criterion": "solserver: `/v1/memento` latest and `/v1/chat` carry semantics are aligned on authoritative latest source.",
        "mapped_to_checklist": false,
        "match_score": 0.06,
        "checklist_label": null,
        "checklist_checked": null,
        "checklist_evidence": null
      },
      {
        "criterion": "solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available.",
        "mapped_to_checklist": true,
        "match_score": 1.0,
        "checklist_label": "solmobile: default outgoing carry no longer echoes large full decision blobs when a valid reference is available.",
        "checklist_checked": true,
        "checklist_evidence": "`ChatRequestContextEncodingTests.test_requestEncodesContextThreadMementoRef_whenProvided` (see `docs/pr/PR-039/receipts/verify_integration.log`)"
      },
      {
        "criterion": "continuity: sequential planning turns retain prior decision context in normal flow.",
        "mapped_to_checklist": true,
        "match_score": 1.0,
        "checklist_label": "continuity: sequential planning turns retain prior decision context in normal flow.",
        "checklist_checked": true,
        "checklist_evidence": "`TransmissionActionsTests.test_sendOnce_prefersStructuredThreadMemento_overSummaryFallback` and `TransmissionActionsTests.test_sendOnce_usesOlderValidMemento_whenLatestCandidateIsMalformed` (see `docs/pr/PR-039/receipts/verify_integration.log`)"
      },
      {
        "criterion": "infra-docs: EPIC-044 AGENTPACK/INPUT explicitly specify `context.thread_memento_ref` contract, precedence, and latest-source alignment.",
        "mapped_to_checklist": false,
        "match_score": 0.06,
        "checklist_label": null,
        "checklist_checked": null,
        "checklist_evidence": null
      },
      {
        "criterion": "infra-docs: ADR-031 contains Addendum A2 defining the reference-first carry contract and alignment constraints.",
        "mapped_to_checklist": false,
        "match_score": 0.12,
        "checklist_label": null,
        "checklist_checked": null,
        "checklist_evidence": null
      }
    ],
    "unmapped_epic_criteria": 4,
    "mapped_but_unchecked_criteria": 0,
    "pr_changed_files_count": 31
  },
  "git": {
    "branch": "codex/solm-epic-044",
    "status_short": [],
    "changed_files": [],
    "diffstat": "",
    "pr_base_ref": "origin/main",
    "pr_changed_files": [
      "docs/pr/PR-039/AGENTPACK.md",
      "docs/pr/PR-039/CHECKLIST.md",
      "docs/pr/PR-039/FIXLOG.md",
      "docs/pr/PR-039/INPUT.md",
      "docs/pr/PR-039/receipts/build_fixlog_block.md",
      "docs/pr/PR-039/receipts/integration.cmd",
      "docs/pr/PR-039/receipts/integration.log",
      "docs/pr/PR-039/receipts/integration.rc",
      "docs/pr/PR-039/receipts/lint.cmd",
      "docs/pr/PR-039/receipts/lint.log",
      "docs/pr/PR-039/receipts/lint.rc",
      "docs/pr/PR-039/receipts/review_context_solmobile.json",
      "docs/pr/PR-039/receipts/review_context_solmobile.md",
      "docs/pr/PR-039/receipts/unit.cmd",
      "docs/pr/PR-039/receipts/unit.log",
      "docs/pr/PR-039/receipts/unit.rc",
      "docs/pr/PR-039/receipts/verifier_cmds.md",
      "docs/pr/PR-039/receipts/verifier_gaps.md",
      "docs/pr/PR-039/receipts/verifier_results.md",
      "docs/pr/PR-039/receipts/verify_integration.cmd",
      "docs/pr/PR-039/receipts/verify_integration.log",
      "docs/pr/PR-039/receipts/verify_integration.rc",
      "docs/pr/PR-039/receipts/verify_lint.cmd",
      "docs/pr/PR-039/receipts/verify_lint.log",
      "docs/pr/PR-039/receipts/verify_lint.rc",
      "docs/pr/PR-039/receipts/verify_unit.cmd",
      "docs/pr/PR-039/receipts/verify_unit.log",
      "docs/pr/PR-039/receipts/verify_unit.rc",
      "docs/pr/PR-039/spec.lock.json",
      "ios/SolMobile/SolMobile/Connectivity/SolServerClient.swift",
      "ios/SolMobile/SolMobileTests/Connectivity/AssistantMarkdownRenderingTests.swift"
    ],
    "pr_diffstat": "docs/pr/PR-039/AGENTPACK.md                        |   53 +\n docs/pr/PR-039/CHECKLIST.md                        |    9 +\n docs/pr/PR-039/FIXLOG.md                           |   96 ++\n docs/pr/PR-039/INPUT.md                            |   53 +\n docs/pr/PR-039/receipts/build_fixlog_block.md      |   15 +\n docs/pr/PR-039/receipts/integration.cmd            |    1 +\n docs/pr/PR-039/receipts/integration.log            |  923 +++++++++++++\n docs/pr/PR-039/receipts/integration.rc             |    1 +\n docs/pr/PR-039/receipts/lint.cmd                   |    1 +\n docs/pr/PR-039/receipts/lint.log                   |  925 +++++++++++++\n docs/pr/PR-039/receipts/lint.rc                    |    1 +\n .../PR-039/receipts/review_context_solmobile.json  |  290 ++++\n .../pr/PR-039/receipts/review_context_solmobile.md |  141 ++\n docs/pr/PR-039/receipts/unit.cmd                   |    1 +\n docs/pr/PR-039/receipts/unit.log                   | 1452 ++++++++++++++++++++\n docs/pr/PR-039/receipts/unit.rc                    |    1 +\n docs/pr/PR-039/receipts/verifier_cmds.md           |    3 +\n docs/pr/PR-039/receipts/verifier_gaps.md           |    1 +\n docs/pr/PR-039/receipts/verifier_results.md        |    3 +\n docs/pr/PR-039/receipts/verify_integration.cmd     |    1 +\n docs/pr/PR-039/receipts/verify_integration.log     |  919 +++++++++++++\n docs/pr/PR-039/receipts/verify_integration.rc      |    1 +\n docs/pr/PR-039/receipts/verify_lint.cmd            |    1 +\n docs/pr/PR-039/receipts/verify_lint.log            |  923 +++++++++++++\n docs/pr/PR-039/receipts/verify_lint.rc             |    1 +\n docs/pr/PR-039/receipts/verify_unit.cmd            |    1 +\n docs/pr/PR-039/receipts/verify_unit.log            |  920 +++++++++++++\n docs/pr/PR-039/receipts/verify_unit.rc             |    1 +\n docs/pr/PR-039/spec.lock.json                      |   17 +\n .../SolMobile/Connectivity/SolServerClient.swift   |   28 +-\n .../AssistantMarkdownRenderingTests.swift          |   40 +-\n 31 files changed, 6814 insertions(+), 9 deletions(-)"
  },
  "workflows": {
    "workflow_dir": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/.github/workflows",
    "workflow_files": [
      "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/.github/workflows/ci-solmobile.yml"
    ],
    "keyword_hits_by_file": {
      "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/.github/workflows/ci-solmobile.yml": {
        "verify_spec_lock": [
          22
        ]
      }
    },
    "keyword_hit_summary": {
      "verify_spec_lock": true,
      "run_pr": false,
      "hygiene": false
    }
  },
  "receipts": {
    "receipts_dir": "/Users/jmcnulty25/Documents/workspace/projects/SolLabsHQ/solmobile/docs/pr/PR-039/receipts",
    "rc_files": [
      {
        "path": "docs/pr/PR-039/receipts/verify_integration.rc",
        "value": "0",
        "mtime_utc": "2026-02-23T07:08:57.912721+00:00"
      },
      {
        "path": "docs/pr/PR-039/receipts/verify_lint.rc",
        "value": "0",
        "mtime_utc": "2026-02-23T07:08:26.850121+00:00"
      },
      {
        "path": "docs/pr/PR-039/receipts/verify_unit.rc",
        "value": "0",
        "mtime_utc": "2026-02-23T07:07:51.720369+00:00"
      },
      {
        "path": "docs/pr/PR-039/receipts/integration.rc",
        "value": "0",
        "mtime_utc": "2026-02-23T07:07:17.085649+00:00"
      },
      {
        "path": "docs/pr/PR-039/receipts/lint.rc",
        "value": "0",
        "mtime_utc": "2026-02-23T07:06:40.155416+00:00"
      },
      {
        "path": "docs/pr/PR-039/receipts/unit.rc",
        "value": "0",
        "mtime_utc": "2026-02-23T07:06:04.524365+00:00"
      }
    ],
    "log_files": [
      {
        "path": "docs/pr/PR-039/receipts/verify_integration.log",
        "mtime_utc": "2026-02-23T07:08:54.682513+00:00",
        "size_bytes": 114997
      },
      {
        "path": "docs/pr/PR-039/receipts/verify_lint.log",
        "mtime_utc": "2026-02-23T07:08:23.651466+00:00",
        "size_bytes": 114142
      },
      {
        "path": "docs/pr/PR-039/receipts/verify_unit.log",
        "mtime_utc": "2026-02-23T07:07:48.514265+00:00",
        "size_bytes": 113205
      },
      {
        "path": "docs/pr/PR-039/receipts/integration.log",
        "mtime_utc": "2026-02-23T07:07:13.879203+00:00",
        "size_bytes": 114147
      },
      {
        "path": "docs/pr/PR-039/receipts/lint.log",
        "mtime_utc": "2026-02-23T07:06:36.943377+00:00",
        "size_bytes": 115623
      },
      {
        "path": "docs/pr/PR-039/receipts/unit.log",
        "mtime_utc": "2026-02-23T07:06:01.297668+00:00",
        "size_bytes": 236228
      }
    ]
  },
  "warnings": [
    "4 EPIC acceptance criteria do not map to checklist AUTO REQUIRED assertions."
  ],
  "errors": []
}